<?xml version="1.0" encoding="utf-8"?>
<s:GridItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009"
				xmlns:s="library://ns.adobe.com/flex/spark"
				xmlns:mx="library://ns.adobe.com/flex/mx"
				creationComplete="onCreationComplete()">
	<fx:Declarations>
		<s:Sequence id="seqFade"
					target="{rectBackground}"
					repeatCount="10">
			<s:Fade alphaFrom="1.0"
					alphaTo="0.0"
					duration="300"/>
			<s:Fade alphaFrom="0.0"
					alphaTo="1.0"
					duration="300"/>
		</s:Sequence>
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import itrain.lessoneditor.events.CaptureListEvent;
			
			import spark.events.GridSelectionEvent;
			
			private function onCreationComplete():void {
				owner.addEventListener(CaptureListEvent.CAPTURE_DONE, onCaptureDone);
				owner.addEventListener(GridSelectionEvent.SELECTION_CHANGE, onSelectionChange);
			}
			
			private function onSelectionChange(e:GridSelectionEvent):void {
				if (seqFade.isPlaying) {
					seqFade.stop();
					rectBackground.visible = false;
				}
			}
			
			private function onCaptureDone(e:CaptureListEvent):void {
				if (e.data == data) {
					seqFade.play();
					rectBackground.visible = true;
				}
			}
		]]>
	</fx:Script>
	<s:Group>
		<s:Rect id="rectBackground"
				width="100%"
				height="100%"
				visible="false">
			<s:fill>
				<s:SolidColor color="0xD8FED3"/>
			</s:fill>
		</s:Rect>
		<s:Label text="{data}"/>
	</s:Group>
</s:GridItemRenderer>
